# Snapshot report for `tests/framework-detection.test.js`

The actual snapshot is saved in `framework-detection.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## should default to process.cwd() and static server

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ No app server detected. Using simple static serverâŠ
    â—ˆ Unable to determine public folder to serve files from. Using current working directoryâŠ
    â—ˆ Setup a netlify.toml file with a [dev] section to specify your dev server settings.âŠ
    â—ˆ See docs at: https://cli.netlify.com/netlify-dev#project-detectionâŠ
    â—ˆ Running static server from "site-with-index-file"âŠ
    âŠ
    â—ˆ Static server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should use static server when --dir flag is passed

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because '--dir' flag was specifiedâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    âŠ
    â—ˆ Static server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should use static server when framework is set to #static

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because '[dev.framework]' was set to '#static'âŠ
    â—ˆ Unable to determine public folder to serve files from. Using current working directoryâŠ
    â—ˆ Setup a netlify.toml file with a [dev] section to specify your dev server settings.âŠ
    â—ˆ See docs at: https://cli.netlify.com/netlify-dev#project-detectionâŠ
    â—ˆ Running static server from "site-with-index-file"âŠ
    âŠ
    â—ˆ Static server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should warn if using static server and `command` is configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because '--dir' flag was specifiedâŠ
    â—ˆ Ignoring command setting since using a simple static server. Configure 'command' and 'targetPort' for a custom setupâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    âŠ
    â—ˆ Static server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should warn if using static server and `targetPort` is configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because '--dir' flag was specifiedâŠ
    â—ˆ Ignoring 'targetPort' setting since using a simple static server.âŠ
    â—ˆ Use --staticServerPort or [dev.staticServerPort] to configure the static server portâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    âŠ
    â—ˆ Static server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should use `command` and `targetPort` when configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Starting Netlify Dev with custom configâŠ
    â—ˆ Netlify Dev could not connect to localhost:3000.âŠ
    â—ˆ Please make sure your framework server is running on port 3000`

## should force specific framework when configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Starting Netlify Dev with Create React AppâŠ
    Error: spawn react-scripts ENOENTâŠ
        at Process.ChildProcess._handle.onexit (node:internal/child_process:282:19)âŠ
        at onErrorNT (node:internal/child_process:480:16)âŠ
        at processTicksAndRejections (node:internal/process/task_queues:83:21) {âŠ
      errno: -2,âŠ
      code: 'ENOENT',âŠ
      syscall: 'spawn react-scripts',âŠ
      path: 'react-scripts',âŠ
      spawnargs: [ 'start' ]âŠ
    }`

## should throw when forcing a non supported framework

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Invalid framework "to-infinity-and-beyond-js". It should be one of: docusaurus, docusaurus-v2, eleventy, gatsby, gridsome, hexo, hugo, jekyll, middleman, next-nx, next, blitz, nuxt, phenomic, react-static, redwoodjs, stencil, vuepress, assemble, docpad, harp, metalsmith, roots, wintersmith, cecil, angular, create-react-app, ember, expo, quasar, quasar-v0.17, sapper, svelte, svelte-kit, vue, brunch, parcel, grunt, gulp, vite, wmr`

## should detect a known framework

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Starting Netlify Dev with Create React AppâŠ
    Error: spawn react-scripts ENOENTâŠ
        at Process.ChildProcess._handle.onexit (node:internal/child_process:282:19)âŠ
        at onErrorNT (node:internal/child_process:480:16)âŠ
        at processTicksAndRejections (node:internal/process/task_queues:83:21) {âŠ
      errno: -2,âŠ
      code: 'ENOENT',âŠ
      syscall: 'spawn react-scripts',âŠ
      path: 'react-scripts',âŠ
      spawnargs: [ 'start' ]âŠ
    }`

## should throw if framework=#custom but command is missing

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ 'command' and 'targetPort' properties are required when 'framework' is set to '#custom'`

## should throw if framework=#custom but targetPort is missing

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ 'command' and 'targetPort' properties are required when 'framework' is set to '#custom'`

## should start custom command if framework=#custom, command and targetPort are configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Starting Netlify Dev with #customâŠ
    Error: spawn exit ENOENTâŠ
        at Process.ChildProcess._handle.onexit (node:internal/child_process:282:19)âŠ
        at onErrorNT (node:internal/child_process:480:16)âŠ
        at processTicksAndRejections (node:internal/process/task_queues:83:21) {âŠ
      errno: -2,âŠ
      code: 'ENOENT',âŠ
      syscall: 'spawn exit',âŠ
      path: 'exit',âŠ
      spawnargs: [ '1' ]âŠ
    }`

## should prompt when multiple frameworks are detected

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    ? Multiple possible start commands found (Use arrow keys or type to search)âŠ
    â¯ [Gatsby] 'gatsby develop' âŠ
      [Create React App] 'react-scripts start' [2A[43D[75C[2B[2K[1A[2K[1A[2K[G? Multiple possible start commands found âŠ
      [Gatsby] 'gatsby develop' âŠ
    â¯ [Create React App] 'react-scripts start' [2A[43D[41C[2B[2K[1A[2K[1A[2K[G? Multiple possible start commands found Create React App-react-scripts start[77D[77CâŠ
    Add 'framework = "create-react-app"' to the [dev] section of your netlify.toml to avoid this selection prompt next timeâŠ
    â—ˆ Starting Netlify Dev with Create React AppâŠ
    Error: spawn react-scripts ENOENTâŠ
        at Process.ChildProcess._handle.onexit (node:internal/child_process:282:19)âŠ
        at onErrorNT (node:internal/child_process:480:16)âŠ
        at processTicksAndRejections (node:internal/process/task_queues:83:21) {âŠ
      errno: -2,âŠ
      code: 'ENOENT',âŠ
      syscall: 'spawn react-scripts',âŠ
      path: 'react-scripts',âŠ
      spawnargs: [ 'start' ]âŠ
    }`
